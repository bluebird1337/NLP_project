Abstract-This paper gives a comprehensive study on the modeling and design challenges of Through Silicon Vias (TSVs) in high speed three-dimensional (3D) system integration. To investigate the propagation characteristics incurred by operations within the ultra-broad band frequency range, we propose an equivalent circuit model which accounts for rough sidewall effect and high frequency effect. A closed-form expression for TSV metal oxide semiconductor (MOS) capacitance in both depletion and accumulation regions is proposed. The coupling of TSV arrays and near and far field effect on crosstalk analysis are performed using 3D Electro-Magnetic (EM) field solver. Based on the TSV circuit model, we optimize the TSVs' architecture and manufacturing process parameters and develop effective design guidelines for TSVs, which could be used to resolve the signal integrity issues arising at high frequency data transmission in 3D Integrated Circuits (ICs).  INTRODUCTION  Three-dimensional integrated circuits (3D ICs) have become an inordinately propitious technology. The advantages gained by vertically stacking with multiple dies are: (1) a reduction in form factor, (2) high system speed, (3) high interconnect densities, (4) a decrease in overall wire length, and (5) reduced power consumption [1] [2] [3] . To analyze the electrical performance of 3D ICs, it is crucial to model and design the Through Silicon Vias (TSVs) accurately and efficiently because of their critical roles in the overall communication architecture [4] . TSVs are most commonly fabricated by high aspect ratio deep silicon etchinglined with a dielectric to provide electrical isolation; and super conformed filled with copper. Unlike the conventional interconnects, TSVs are essentially metal insulator semiconductor (MIS) devices [5] wherein the dielectric layer (typically SiO 2 ) is deposited to isolate the conductive metals from the substrate [6] . From the design standpoint, as related to parasitic extraction, TSVs can be incorporated as a separate cell (within conventional design tools) that demands proper analytical modeling and characterization. The ultimate goal is clear and straightforward: low-cost, high-yield process technologies, and successful attainments require concise optimizations of the TSV electrical design process, which demands a comprehensive consideration of complex TSV electrical modeling and analysis [7] . Metal oxide semiconductor (MOS) effect is an important phenomenon in TSV based 3D ICs which could overcome the misestimation that occurs in determining the cylindrical capacitance. When TSVs are operated in the low frequency range, the MOS effect in TSVs can be quite satisfactorily modeled as MOS capacitances [8] ; whereas, when TSVs are operated in the ultra-broad band frequency range, the electrical behavior is considerably altered and deviated into a domain of scarcely imaginable complexity. High speed switching can dynamically bias the TSV-MIS interface and result in regions of electronic accumulation or depletion; the capacitance becomes a nonlinear function of signal bias. In 3D ICs, the MOS capacitance plays a significant role to decrease the total capacitance due to biased substrate and thus it reduces the leakage current into the silicon material [2] . Most of the TSV modeling approaches focus on the radio frequency (RF) applications with operation frequency of several GHz or even lower, whereas the TSV technology specifically for millimeter wave range (mmW)/THz applications is seldom reported. The mmW communication has emerged as an enabling technology to resolve the spectrum shortage issue due to significant growth of mobile data traffic [9] [10] [11] . There are some outstanding challenges due to electro-magnetic (EM) effects that are associated with the mmW technology such as impedance mismatching, signal reflections, crosstalk, and radiation [12, 13] . It is therefore a prudent consideration to address the critical issues which influence the properties of the TSVs in ultra-high and extremely-high frequency range [7] . These challenges can be addressed by properly modeling and designing the TSVs considering those effects in emerging and attractive 3D integration approach. A cross sectional view of an mmW transceiver module in 3D silicon interposer technology is shown in Figure 1 . One of the most important issues is the sidewall roughness which induces a significant quantity of leakage current within the TSVs [14] . The effect of sidewall roughness must be considered within the mmW frequency range, since the root mean square (rms) height of the sidewall roughness features become comparable to the skin depth. Heretofore, a considerable amount of research work on TSV modeling and analysis have been performed to address the impact of TSVs on high speed signals, to analyze the TSV crosstalk, to study the TSV resistance, as well as to apply the full-chip extraction and optimization [15] [16] [17] [18] [19] [20] [21] [22] . Reasonably comprehensive TSV models have been constructed which characterized resistance, inductance, capacitance, and conductance. These modeling methodologies can be categorized into three discrete classes; depending on the type of electromagnetic technique used: full-wave modeling, quasi-static modeling, and analytical modeling [15] . These three modes correspond to different silicon resistivity levels; (1) a slow wave, low frequency mode, where the electrical field is as if "screened" by the silicon substrate, and the magnetic field penetrates somewhat into the substrate; (2) a quasi-transverse electromagnetic mode, wherein both electrical and magnetic fields penetrate deeply into the substrate; and: (3) a very high frequency skin effect mode, where the characteristic dimension of the silicon skin depth is smaller than the TSV spacing. This paper proposes a closed-form analytic expression for TSV capacitance which accounts for both depletion and accumulation effects. Furthermore, we introduce a rough sidewall TSV model to account for the propagation characteristics within the ultra-broad band frequency range. Our endeavor culminates with an equivalent circuit model that accurately captures all the parasitic elements of various TSVs arrangements. The proposed circuit model accounts for high frequency skin effects, eddy currents in the substrate, MOS effects, and sidewall roughness effects. The model's compactness and compatibility with Simulation Program with Integrated Circuit Emphasis (SPICE) simulators allows Signal TSV Ground TSV Figure 2 . TSV pair with sidewall roughness. Figure 3 . SEM image of TSV with sidewall roughness using Bosch etching [14] . the electrical modeling of various TSVs arrangements without the need for computationally expensive field solvers, which significantly reduces the simulation running time. We also focused on the coupling and cross talk analysis between the TSV interconnections which is critical in signal integrity. Based on the proposed TSV model, we optimize the TSVs' architecture and manufacturing process parameters and develop effective design guidelines for TSVs which could be used to resolve the signal integrity issues arising at high speed data transmission in 3D ICs.  MODELING AND SIMULATION OF TSV IN ULTRA-HIGH FREQUENCY  Electromagnetic models of differential and complex multi-TSVs are proposed to extract electrical parasitics and obtain analytic equations for lumped model analysis in the frequency domain [16] [17] [18] . Numerical, analytical, and measurement based methods have been extensively applied to extract the TSV parameters and validate EM simulations. High frequency analytical efforts have generated TSV models that include parametric studies of skin and proximity effects towards a comprehension of propagation characteristics [15, 19] . The impacts of differing TSV geometries and structures upon signal integrity can be quantified and the performance of the TSVs can be optimized by using coaxial configuration. To model the TSVs, analytical expressions of RLGC parameters are required; these are obtained from the transmission line theory [23] , and simply extended into the high frequency range [15, 24] . Analytical expressions of frequency dependent RLGC incorporated within the model account for differing geometric parameters, dielectric materials, electromagnetic permeability, and the effects of lossy substrate materials. The skin effect is the critical model factor, because as operating frequency increases, current accumulates at the sidewall. As a consequence, the skin depth decreases; which causes the effective resistance and inductances of TSV to increase by reducing the effective cross-section of the conductor. These frequency dependent additional resistance and inductances are added to the RL parameters of transmission line to get the TSV resistance and inductance. The results of certain previous work [7] relate this skin effect can be modeled as an additional resistance, R 0 (f ) and inductance, L 0 (f ), according to: where h is the height of TSV, r is the radius of TSV, f is the operating frequency in GHz, μ 0 is the permeability of the free space, and σ Cu is the conductivity of the conductor. The effect of conductor surface roughness is more significant at mmW frequency due to skin effect. In our study, we examined the impact of surface roughness by the creating the TSV structures with and without surface roughness. The TSV surface roughness is illustrated in Figure 2 where a signal TSV is paired with a ground TSV. Also, an experimental study is performed by T. Nakamura et al. [14] to measure the leakage current due to the surface roughness at high frequency. In this experiment, the rough surface TSV shown in Figure 3 is created during a process of "Bosch etching". The roughness of the conductor surface have significant effects on signal integrity and it is important to model the rough surface for proper analysis. The rough surface is characterized by the correlation length l, rms height of roughness Δx, and the correlation function. Using the spectral density or the Fourier transformation of the correlation functions, the roughness profile can be generated [25] ; where Δx is the height of sidewall roughness and (Δx) 2 C(x) the correlation function. Due to the existence of the conductor surface roughness of TSV, an increased resistance is appeared. For the proper modeling of TSV, it has to be taken into account the impact of roughness. A Gaussian distribution function is necessary to approximate the binomial distribution of events; Then applying the continuous Gaussian distribution function and modification of the resistance due to skin effect, the following additional resistance is obtained: where is angular spatial frequency, σ 2 g the variance, and a the mean value of the number of events, and the probability of any integer. The schematic diagram of rough surface TSV is shown in Figure 4 where the geometric parameters are indicated. The complete equivalent circuit model of TSV shown in Figure 5 is obtained by combining all the high frequency RLGC elements that associated with the charge and current density distribution and accounts the sidewall roughness as well. This analytical model includes the parasitic elements that represent the loss, as well as the inductive and capacitive coupling in conductor and insulating sidewall. The accuracy of this analytical model of TSV is verified through the 3D field simulation based model by means of scattering parameters (S-parameters). Simulated results with and without rough sidewall and analytical results with rough sidewall is shown in Table 1 and Table 2 from 10 GHz to 100 GHz. The S-parameters of the TSV pair in 3D ICs studied for this work are calculated with the equivalent circuits illustrated in Figure 5 , and are Table 1 and Table 2 , it has been found that there is a close correlation and good agreement between the values of simulated results and the analytical models. At low frequency as 10 GHz, S parameter value is the same between the rough and smooth sidewall TSV but after that it varies due to the loss mechanism in rough sidewall. As a validation of the proposed model Figure 6 is plotted and it provides the comparison of resistances of TSV pair with and without surface roughness. Figure 7 shows the representation of the measured S 11 parameter. Parametric study is being performed and simulation is carried to assess the quantitative influence of physical and geometric parameters of TSV on the impedance and consequently on loss properties. The impact of TSV physical parameters to its electrical response can also be better understood by technology tuning. The insertion and return loss can be set as perform merit matrices to assess the impact of the TSV physical parameters. To optimize the performance and capture the enhancement of the TSV model, the parameters, i.e., thickness of SiO 2 , pitch, and length of the via are investigated independently. The thinnest oxide liner has the highest return loss because a significant amount of reflected wave propagates in Si, which is not an insulator and hence experiences more loss. Whereas, the insertion loss improves for the shorter length of TSV. Therefore, the losses can be minimized by using higher resistivity silicon, thinner oxide line and shorter TSV length.  MODELING OF TSVS WITH VOLTAGE DEPENDENT AND NONLINEAR CAPACITANCE  New basis functions are introduced to capture the effect of TSV oxide liner that could simulate a large number of TSVs with less computation time [22] . The full wave analysis methods are accurate, but will be computationally intensive due to the large number and multi-scale dimensions (oxide thickness and aspect ratio) of TSVs in the 3D mmW ICs. Another bottleneck of the full wave methods is that it is difficult to be compatible with SPICE simulators. The equivalent circuit methods with lumped Resistance (R), inductance (L), conductance (G), and capacitance (C) elements could be a good alternative and can provide good compatibility with SPICE simulators. Most of the TSV modeling approaches in equivalent methods focus on the RF applications with operation frequency of several GHz or even lower, whereas the TSV technology specifically for mmW/THz applications is seldom reported. The challenges in modeling TSV in 3D mmW integrated circuits comes from the need of accurate broadband model capturing high frequency effect, frequency-dependent losses, coupling, and mismatch. As mentioned in previous sections, TSVs have been mostly modeled assuming that the TSV MIS interface is not biased and the silicon substrate is a lossy, low conductive medium. Ignoring the semiconductor properties of the substrate and the resulting MOS capacitance introduce significant inaccuracies in the TSV modeling. Refs. [27] [28] [29] [30] studied the impact of a bias voltage on TSV characteristics (mostly capacitance) theoretically and experimentally. However, these analyses only consider the static biasing and hence they are only applicable for the small and low-speed signal application. Ref. [31] rigorously modeled the full-wave, both small and large signal wave propagation in a MIS micro strip structure. It requires solving both the full Maxwell equations and Boltzmann transport equation at the same time. Even though the TSVs are small in size and there is no need to consider wave propagation, the Boltzmann equation still needs to be solved simultaneously to consider the carrier accumulation and depletion. Furthermore, it is very difficult to apply the proposed TSV models to the channel simulations. Therefore, we propose a computationally efficient circuit model of the TSVs with the consideration of non-linear and voltage dependent capacitance. Since the high speed signals can dynamically bias the TSV MIS interface and drive the TSV MIS into the accumulation or depletion regions, the TSV capacitance is expected to be nonlinear and dependent on the biasing of the TSVs with respect to the substrate. When the TSV MIS is in accumulation region, the electrical field is confined in the SiO 2 liner and the TSV capacitance is equal to the SiO 2 liner capacitance; when TSV MIS is in depletion region, the electrical field can penetrate into the substrate and the TSV capacitance is equal to the SiO 2 liner capacitance in series with the depletion region capacitance. The TSV MIS interface is biased statically. In a p-type substrate, the majority carriers are positively charged holes. A flat band voltage (V F B ) can be defined for MIS interface and it corresponds to the voltage that induces zero net charge in silicon: where ϕ m and ϕ Si are the work functions of TSV metal and silicon; Q S is space charge. C ox is silicon liner capacitance and expressed as, When a voltage V is applied to a TSV, if V < V F B , the positively charged holes in silicon are dragged to Si-SiO 2 interface, and an accumulation layer is formed; if V > V F B , holes are pushed away and a depletion region is formed (as shown in Figure 8 ). V F B depends on material properties as well as fabrication processes (doping, etc.). Note that the similar results could be applied to n-type substrate cases. When the TSV MIS is in accumulation region, the electrical field is confined in the SiO 2 liner and the TSV capacitance is equal to C ox . When TSV MIS is in depletion region, the electrical field can penetrate into the substrate, and the TSV capacitance is equal to C ox in series with C dep . (C ox is the capacitance of the SiO 2 liner, C dep is the capacitance of the depletion region). Accordingly, an analytical formula for depletion capacitance is introduced for the large signal and nonlinear capacitance [18] . where h is the TSV height, ε s the dielectric constant of Si, and r ox the radius of a TSV with SiO 2 liner. The depletion width w dep can be calculated by solving the Poisson's equations of scalar potential in the depletion region and a Laplace's equation in the SiO 2 liner. The depletion width w dep is expressed as; where t ox is the SiO 2 liner thickness, V F B the flat band voltage, V is supply voltage, ε ox the dielectric constant of the SiO 2 liner, and N a the silicon doping concentration. We verified the proposed analytical formula by comparing it with the C-V curve obtained from static simulation and measurement with a static bias. The TSV capacitance C TSV (V (t)) is much higher than the capacitance obtained assuming small signal analysis and non-biasing condition [15] . To obtain a faster signal response and lower signal distortion,the TSV process and geometry parameters ought to be tune to achieve minimum TSV capacitance in the desired operating voltage region. Table 3 shows the horizontal eye opening (UI) and vertical eye opening (mv) of the chip level TSV at accumulation region (high Cap.), depletion region (medium Cap.), and deep depletion region (low Cap.). Figure 9 shows the eye diagrams of interposer TSVs without and with optimized depletion capacitance when the signal data rate at 30 Gbps. As shown in the Figure 9 , the eye diagram of interposer TSV is closed when its data rate reaches 30 Gbps. As jitter closes the eye horizontally and noise closes the eye vertically, the sampling area gets squeezed, increasing the chance to sample incorrectly and get bit errors. This could be a very serious performance issue for TSV in silicon interposer, especially for mmW applications. The optimized depletion capacitance is achieved by biasing the TSV into the deep depletion region with low work function metal for p-type Si. Compared with the eye diagram shown in Figure 9 , we find the performance of interposer TSV significantly improved. As shown in both Table 3 and Figure 9 , optimizing the parameters of TSVs architecture and manufacturing process to obtain the minimum depletion capacitance could drastically enhance the TSV electrical performance across wide frequency range. Our study helps in developing design guidelines for TSVs in 3D ICs.  COUPLING AND CROSSTALK ANALYSIS OF TSV ARRAYS  Coupling and cross talk are another important issues in large TSV arrays; such impacts can be analyzed in both time and frequency domain through eye margin analysis [20, 21] , which present the electrical modeling, analysis, and measurement of TSV coupling capacitance without considering the MOS capacitance effect. However, considering the MOS capacitance effect [8, 18] has an influential dominance on determining the TSV mutual capacitance. An important effect which requires special attention is the coupling effect in rough surface TSVs. Consider a numerous amount of closely spaced I/O TSVs co-existing with various mixtures of signal and ground TSVs in high speed circuits and systems [6, 32] ; we simulate the coupling of 4 rough surface TSV pairs arranged in linear configuration with ground and signal TSV in HFSS, as shown in Figure 10 . The electric and magnetic fields for the TSV arrangement presented in Figure 10 are demonstrated in Figures 11 and 12 . As a MIS structure, the TSV produces electric and magnetic fields induced by current and voltage near the copper conductor which has near field characteristic. Both the electric and magnetic fields are plotted at 100 GHz. The capacitive coupling which is dominated in the TSV structure between the TSVs depend on the permittivity of the oxide, the TSV geometry, the arrangement of surrounding TSVs, and body contacts places. The coupling in the case of nearest adjacent TSVs with respect to the central TSV in a TSV array is higher than the coupling with the TSVs in the diagonal direction. The TSV coupling capacitance and inductance increase as the space between the TSVs decreases. As demonstrated in Figure 13 , S 1 has the strongest coupling to S 2 , compared to couplings to other signal TSVs. The coupling can be reduced by adding the ground TSV and making the TSV pairs fully surrounded by ground vias; following proper design consideration. Also the crosstalk between those two adjacent TSVs is obtained. The crosstalk is the outcome (a) (b) of capacitive coupling due to the conductivity of Si substrate and thin SiO 2 that introduces a large capacitance. Both the simulation results, near end crosstalk (NEXT) and the far end crosstalk (FEXT) are shown in Figure 14 . At a frequency beyond 10 GHz, higher NEXT than FEXT is observed. The sharp slope in FEXT at very low frequency is for the slow wave propagation. For the Maxwell-Wagner effect, the velocity of propagation of slow wave mode is much slower and it increases the effective permittivity at lower frequencies. Also, NEXT behaves differently than FEXT at lower frequencies can be explained by the fact of ground planes that provides a shieling effect.  CONCLUSION  Analytical modeling and 3D electromagnetic field simulation for TSVs have been performed, and the challenges associated with electrical design have been analyzed. A rough sidewall TSV is modeled that captured the impact of conductor sidewall roughness in high speed 3D interconnects. The proposed model is analytically calculated and validated by comparing the S-parameters predicted by both the model and the HFSS simulation up to 100 GHz in both magnitude and phase. From this study, it is found that the effect of TSV sidewall roughness becomes a very important factor when modeling TSVs in the extremely high frequency band. MOS effect and high frequency effect are investigated in mmW/THz frequency range. The impact of the voltage dependent and nonlinear capacitance on the performance of high speed differential signals is analyzed with the data of eye diagram approach. The coupling of TSV arrays under high speed operations using 3D EM field solver is performed and the near and far field effect on crosstalk analysis is observed. Parametric study is performed for the assessment of quantitative influence on loss properties of TSV and the impact of the frequency, pitch, dielectric, and TSV length is observed on the overall performance.
